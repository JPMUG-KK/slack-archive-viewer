(this["webpackJsonpslack-archive-viewer"]=this["webpackJsonpslack-archive-viewer"]||[]).push([[0],{111:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c),i=(n(111),n(18)),s=n(30),l=n(9),d=n(8),u=n(169),p=n(15),f=n(22),h=n(173),b=n(185),j=n(171),m=n(1),x=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh","& a":{color:"#1164A3",textDecoration:"none"}},input:{display:"none"},container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:24},commandTitle:{display:"flex",justifyContent:"space-between",marginBottom:4,"& span":{cursor:"pointer"}},code:{maxWidth:480,overflowX:"auto",display:"block",backgroundColor:"#2c3e50",color:"#fff",padding:8,borderRadius:8,position:"relative"},loading:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}}}));function g(e){var t=e.changeSlackData,n=e.isCors,a=e.initComplete,c=x(),o=r.a.useState([{type:"Windows OS",line:'[PATH_TO_CHROME]chrome.exe" --disable-web-security --disable-gpu --user-data-dir=~/chromeTemp',isCopy:!1},{type:"Mac OS",line:'open -n -a /Applications/Google Chrome.app/Contents/MacOS/Google Chrome --args --user-data-dir="/tmp/chrome_dev_test" --disable-web-security',isCopy:!1}]),i=Object(d.a)(o,2),s=i[0],u=i[1],p=function(e){return function(t){window.navigator.clipboard.writeText(s.find((function(t){return t.type===e})).line).then((function(){console.log("Command copied to clipboard"),u(s.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{isCopy:t.type===e})}))),setTimeout((function(){u(s.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isCopy:!1})})))}),1e3)})).catch((function(e){console.log("Something went wrong",e)}))}};return a?Object(m.jsxs)("div",{className:c.root,children:[Object(m.jsx)("input",{accept:"application/zip, application/octet-stream, application/x-zip-compressed, multipart/x-zip",className:c.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){Object(f.e)(e,t)}}),Object(m.jsxs)("div",{className:c.container,children:[Object(m.jsx)("label",{htmlFor:"contained-button-file",children:Object(m.jsx)(h.a,{variant:"contained",size:"large",color:"primary",component:"span",startIcon:Object(m.jsx)("i",{className:"fas fa-file-import",style:{fontSize:14}}),children:"Import Slack zip file"})}),n?Object(m.jsxs)(b.a,{severity:"warning",children:[Object(m.jsx)("strong",{children:"Cross-Origin Resource Sharing error"}),Object(m.jsx)("p",{children:"If you want to store images and files in the database, you need to avoid CORS errors."}),Object(m.jsxs)("ol",{type:"a",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Launch browser with CORS error disabled"})}),Object(m.jsx)("p",{children:"Execute the following command in the terminal"}),Object(m.jsx)("pre",{children:s.map((function(e){var t=e.type,n=e.line,a=e.isCopy;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{className:c.commandTitle,children:[t," : ",Object(m.jsxs)("span",{onClick:p(t),children:[Object(m.jsx)("i",{className:"fas fa-clipboard-list"})," ",a?"copied":"copy"]})]}),Object(m.jsx)("code",{className:c.code,children:n})]})}))})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"Disable with browser add-ons"})}),Object(m.jsxs)("a",{href:"https://chrome.google.com/webstore/detail/cors-unblock/lfhmikememgdcahcdlaciloancbhjino?hl=en",target:"_blank",rel:"noopener noreferrer",children:["CORS Unblock ",Object(m.jsx)("i",{className:"fas fa-external-link-alt"})]})]})]})]}):null]})]}):Object(m.jsx)("div",{className:c.loading,children:Object(m.jsx)(j.a,{})})}var O=n(66),v=n(177),y=n(139),w=n(181),k=n(175),I=n(64),S=n.n(I),N=n(187),C=n(184),T=n(178),B=n(180),L=n(87),D=n.n(L),z=n(179),W=Object(u.a)((function(e){return{root:{flex:1,display:"flex"},button:{color:"rgba(255,255,255,0.75)",flex:1,justifyContent:"space-between",alignItems:"center",gap:8},selectedLabel:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:82,textAlign:"left"},MenuPaper:{minWidth:240},Divider:{margin:"12px 0"},ListItemIcon:{minWidth:24}}}));function R(e){var t,n=W(),a=e.options,c=void 0===a?[]:a,o=e.moveImportPage,i=e.onChange,s=r.a.useState(null),l=Object(d.a)(s,2),u=l[0],p=l[1],f=function(){p(null)},b=(null===(t=c.find((function(e){return e.selected})))||void 0===t?void 0:t.label)||"unselected";return Object(m.jsxs)("div",{className:n.root,children:[Object(m.jsxs)(h.a,{className:n.button,size:"small","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},children:[Object(m.jsx)("div",{className:n.selectedLabel,children:b}),Object(m.jsx)(D.a,{})]}),Object(m.jsxs)(C.a,{id:"workspace-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:f,classes:{paper:n.MenuPaper},children:[c.map((function(e,t){return Object(m.jsx)(T.a,{selected:e.selected,onClick:(n=e.label,function(){i(n),f()}),children:e.label});var n})),Object(m.jsx)(z.a,{className:n.Divider}),Object(m.jsxs)(T.a,{onClick:o,children:[Object(m.jsx)(B.a,{className:n.ListItemIcon,children:Object(m.jsx)("i",{className:"fas fa-file-import",style:{fontSize:14}})}),"Import"]})]})]})}var _=Object(u.a)((function(e){return{root:function(e){return{backgroundColor:"#3f0f40",minWidth:e.menuWidth,maxWidth:e.menuWidth,overflow:"hidden"}},name:{flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},list:{height:"calc(100vh - (73px))",overflowY:"auto","&::-webkit-scrollbar-thumb":{background:"rgba(255,255,255,0.25)"}},listTitle:{padding:"8px 12px",color:"rgba(255, 255, 255, 0.75)",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"solid 1px rgba(255,255,255,0.15)",gap:8,minHeight:35},ListItemRoot:{color:"rgba(255, 255, 255, 0.75)"},ListItemText:{"& .MuiListItemText-primary":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},ListItemSelected:{backgroundColor:"#1263a3 !important",color:"rgba(255, 255, 255, 0.95)"},searchLabel:{display:"flex",alignItems:"center"},searchIcon:{fontSize:14,marginRight:8},importDbButton:{backgroundColor:"rgba(255, 255, 255, 0.75)",padding:8,"&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},iconCoverBox:{width:16,height:16,display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,color:"#3f0f40"},tooltip:{fontSize:13},CircularProgress:{color:"rgba(255, 255, 255, 0.75)"}}}));function E(e){var t=e.slackData,n=e.currentWorkSpaces,a=e.searchValue,c=e.moveImportPage,o=e.changeWorkSpace,i=e.menuWidth,s=void 0===i?240:i,u=e.menuId,h=Object(p.i)(),b=h.workSpace,x=h.appType,g=h.channelId,I=void 0===g?null:g,C=r.a.useState(!1),T=Object(d.a)(C,2),B=T[0],L=T[1],D=_({menuWidth:s}),z=Object(p.g)(),W=function(e,t){return function(){z.push("/".concat(b,"/").concat(e,"/").concat(t))}},E=t.setting.channels.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{selected:e.id===I})})),P=Object.keys(n).map((function(e){return{label:e,value:e,selected:e===t.workSpace}})),M=function(e){var t=e.filter((function(e){return e.successfulToSave})).length,n=e.length-t,a="".concat(t.toLocaleString()," data imports were successfully completed \ud83d\ude09");n&&(a+="\n            & There are ".concat(n.toLocaleString()," files that failed to import...(Perhaps the data was deleted from the slack server)\ud83e\udd72")),alert(a),L(!1)};return Object(m.jsxs)("div",{id:u,className:D.root,children:[Object(m.jsxs)(O.a,{className:D.listTitle,component:"div",children:[Object(m.jsx)(N.a,{title:t.workSpace,classes:{tooltip:D.tooltip},arrow:!0,children:Object(m.jsx)(R,{options:P,moveImportPage:c,onChange:o})}),Object(m.jsx)(N.a,{title:"Import images and files into the database",classes:{tooltip:D.tooltip},arrow:!0,children:Object(m.jsx)(k.a,{disabled:B,className:D.importDbButton,onClick:function(){L(!0),Object(f.d)(t,M)},children:B?Object(m.jsx)(j.a,{size:16,className:D.CircularProgress}):Object(m.jsx)("div",{className:D.iconCoverBox,children:Object(m.jsx)("i",{className:"fas fa-database"})})})})]}),Object(m.jsxs)(v.a,{className:D.list,dense:!0,component:"nav","aria-label":"main mailbox folders",children:[E.map((function(e){var t=e.id,n=e.name,a=e.selected;return Object(m.jsx)(y.a,{classes:{selected:D.ListItemSelected,root:D.ListItemRoot},selected:a,onClick:W("log",t),button:!0,children:Object(m.jsx)(w.a,{className:D.ListItemText,primary:"# ".concat(n)})},t)})),Object(m.jsx)(y.a,{style:{position:"sticky",bottom:-7,zIndex:1,backgroundColor:"#3f0f40",borderTop:"solid 1px rgba(255,255,255,0.1)"},classes:{selected:D.ListItemSelected,root:D.ListItemRoot},selected:"search"===x,onClick:W("search",a),button:!0,children:Object(m.jsx)(w.a,{primary:Object(m.jsxs)("div",{className:D.searchLabel,children:[Object(m.jsx)(S.a,{className:D.searchIcon})," Search"]})})})]})]})}var P=n(31),M=n(182),F=n(188),U=Object(u.a)((function(e){return{}}));function V(e){U();var t=r.a.useState(null),n=Object(d.a)(t,2),a=n[0],c=n[1],o=e.users,l=void 0===o?[]:o,u=e.id,p=e.size,h=void 0===p?48:p,b=24===h?24:null;return r.a.useEffect((function(){Object(s.a)(Object(i.a)().mark((function e(){var t,n,a,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.find((function(e){return e.id===u})),n=t.profile,e.next=3,Object(f.b)("".concat(u,"-image_").concat(h));case 3:a=e.sent,r=(null===a||void 0===a?void 0:a.data)||n["image_".concat(h)],c(r);case 6:case"end":return e.stop()}}),e)})))()}),[u]),Object(m.jsx)(M.a,{style:{paddingTop:b?null:8,minWidth:b},children:Object(m.jsx)(F.a,{style:{width:b,height:b},variant:"rounded",alt:"",src:a})})}var A=n(90),H=n.n(A),Y=Object(u.a)((function(e){return{attachmentImage:{maxWidth:360,maxHeight:240,borderRadius:4},fileBox:{display:"flex",alignItems:"center",textDecoration:"none",color:"#34495e",border:"solid 1px #ddd",borderRadius:4,padding:8,paddingRight:12,marginTop:4}}}));function X(e){var t=e.file,n=void 0===t?{}:t,a=r.a.useState(null),c=Object(d.a)(a,2),o=c[0],l=c[1],u=n.id,p=n.mimetype,h=void 0===p?"":p,b=n.name,j=n.url_private,x=Y(),g=function(){if(!o)return null;var e=o.contentType,t=o.data,n=o.isBase64,a=void 0!==n&&n;return e.search(/image/)>-1?Object(m.jsx)("a",{className:x.fileBox,style:{padding:0},href:t,download:a?b:null,target:a?null:"_blank",rel:a?null:"noopener noreferrer",children:Object(m.jsx)("img",{src:t,className:x.attachmentImage},"image-".concat(u))},u):Object(m.jsxs)("a",{className:x.fileBox,href:t,download:a?b:null,target:a?null:"_blank",rel:a?null:"noopener noreferrer",children:[Object(m.jsx)(H.a,{style:{paddingRight:8}})," ",b]},u)};return r.a.useEffect((function(){Object(s.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={contentType:h,data:j,isBase64:!1},e.next=3,Object(f.b)(u);case 3:(n=e.sent)&&(t={contentType:n.contentType,data:n.data,isBase64:!0}),l(t);case 6:case"end":return e.stop()}}),e)})))()}),[u]),Object(m.jsx)(g,{})}var q=Object(u.a)((function(e){return{reactionBox:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8,paddingTop:8},undefinedIcon:{color:"#2c3e50"},reactionLabel:{backgroundColor:"#eee",padding:"2px 8px",borderRadius:16,display:"flex",alignItems:"center",gap:8},reactionCount:{fontSize:11},bigIcon:{width:48,height:48,display:"flex",justifyContent:"center",alignItems:"center",fontSize:40,backgroundColor:"#fff",borderRadius:2,margin:"8px auto"},description:{fontSize:13,"& span":{opacity:.65}}}}));function J(e){var t=q(),n=e.users,a=void 0===n?[]:n,r=e.reactions,c=void 0===r?[]:r,o=Object(m.jsx)("i",{className:"far fa-question-circle ".concat(t.undefinedIcon)});return Object(m.jsx)("div",{className:t.reactionBox,children:c.map((function(e){var n=e.name,r=e.count,c=e.users,i=":".concat(n,":"),s=Object(f.a)(i),l="undefined"===s?o:s,d=c.map((function(e){return a.find((function(t){return t.id===e})).real_name})).join(", ");return Object(m.jsx)(N.a,{title:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:t.bigIcon,children:l}),Object(m.jsxs)("span",{className:t.description,children:[d,Object(m.jsx)("span",{children:" reacted with ".concat(i)})]})]}),arrow:!0,children:Object(m.jsxs)("div",{className:t.reactionLabel,children:[Object(m.jsx)("span",{children:l}),Object(m.jsx)("span",{className:t.reactionCount,children:r})]})})}))})}var G=n(183),$=n(75),Z=n.n($),K=Object(u.a)((function(e){return{root:{height:"100vh",overflowY:"auto",flex:1},logPannelTitle:{fontSize:18,padding:"12px 16px",borderBottom:"solid 1px #ddd",position:"sticky",top:0,zIndex:1,backgroundColor:"#fff"},List:{alignItems:"flex-start"},logBox:{display:"flex",flexDirection:"column"},logHead:{display:"flex",alignItems:"flex-end"},logUser:{fontWeight:600,fontSize:14,paddingRight:8},logDate:{fontSize:12,opacity:.65},logText:{fontSize:14,padding:"4px 0",wordBreak:"break-all",whiteSpace:"pre-line","& p":{margin:0},"& a":{color:"#3173ac",textDecoration:"none"},"& code":{backgroundColor:"#eee",border:"solid 1px #ddd",padding:"2px 4px",color:"#e01e5a",borderRadius:2},"& pre":{"& code":{display:"block",padding:"4px 8px",borderRadius:4,color:"rgba(0,0,0,0.85)"}}},attachments:{display:"flex",flexWrap:"wrap",alignItems:"flex-end",gap:8},threadLink:{display:"flex",alignItems:"center",gap:4,textDecoration:"none",color:"#1164A3",paddingTop:8},threadLinkText:{fontSize:13,fontWeight:600},logToolBox:{position:"relative"}}}));function Q(e){var t=e.users,n=e.user,a=e.log,c=e.isThread,o=void 0!==c&&c,i=e.dateFormat,s=void 0===i?"LT":i,l=e.channelId,d=Object(p.i)(),u=d.workSpace,h=(d.appType,d.logId,K()),b=function(e){var a=e.log,r=(a.user,a.ts),c=a.text,i=a.files,d=void 0===i?[]:i,p=a.reply_count,b=void 0===p?0:p,j=a.reply_users,x=void 0===j?[]:j,g=a.reactions,v=void 0===g?[]:g,y=(null===a||void 0===a?void 0:a.client_msg_id)||"".concat(a.user,":").concat(a.ts),w=Z()(1e3*r).format(s),k=(n.name,n.real_name),I=c;t.forEach((function(e){var t=new RegExp("<@".concat(e.id,">"),"gi");I=Object(f.a)(I.replace(t,e.real_name))}));var S=Boolean(v.length);return Object(m.jsxs)("div",{className:h.logBox,children:[Object(m.jsxs)("div",{className:h.logHead,children:[Object(m.jsx)(O.a,{className:h.logUser,children:k}),Object(m.jsx)(O.a,{className:h.logDate,children:w})]}),Object(m.jsx)("div",{className:h.logText,children:Object(m.jsx)(G.a,{children:I})}),Object(m.jsxs)("div",{className:h.logToolBox,children:[Object(m.jsx)("div",{className:h.attachments,children:d.map((function(e){return Object(m.jsx)(X,{file:e})}))}),S&&Object(m.jsx)(J,{users:t,reactions:v}),!o&&Object(m.jsxs)(P.b,{className:h.threadLink,to:"/".concat(u,"/log/").concat(l,"/").concat(y),children:[x.map((function(e){t.find((function(t){return t.id===e}));return Object(m.jsx)(V,{users:t,id:e,size:24})})),b>0&&Object(m.jsxs)(O.a,{className:h.threadLinkText,children:[b," replie",b>1?"s":null]})]})]})]})},j=r.a.useCallback((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(V,{users:t,id:n.id}),Object(m.jsx)(w.a,{primary:Object(m.jsx)(b,{log:a})})]})}),[a]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(j,{})})}var ee=Object(u.a)((function(e){return{root:{flex:1,overflow:"hidden"},logPannelTitle:{width:"calc(100vw - 240px)",fontSize:18,padding:"12px 16px",borderBottom:"solid 1px #ddd",backgroundColor:"#fff"},list:{height:"calc(100vh - (60px + 28px))",overflowX:"hidden",overflowY:"auto",paddingTop:28},List:{alignItems:"flex-start"},logBox:{display:"flex",flexDirection:"column"},logHead:{display:"flex",alignItems:"flex-end"},logUser:{fontWeight:600,fontSize:14,paddingRight:8},logDate:{fontSize:12,opacity:.65},logText:{fontSize:14,padding:"4px 0"},attachmentImage:{maxHeight:240,borderRadius:4},fileBox:{display:"flex",alignItems:"center",textDecoration:"none",color:"#34495e",border:"solid 1px #ddd",borderRadius:4,padding:8,paddingRight:12},attachments:{display:"flex",flexWrap:"wrap",gap:8},dateDivider:{display:"flex",alignItems:"center",marginBottom:-18,marginTop:8,"& hr":{flex:1}},dateDividerLabelBox:{position:"sticky",top:-20,display:"flex",justifyContent:"center",zIndex:1,marginBottom:24},dateDividerLabel:{border:"solid 1px rgba(0,0,0,0.12)",fontSize:13,fontWeight:500,padding:"6px 12px",borderRadius:18,backgroundColor:"#fff",position:"absolute"}}}));function te(e){var t=e.slackData,n=Object(p.i)(),a=n.channelId,c=void 0===a?null:a,o=(n.logId,Object(p.h)()),i=ee(),s=r.a.useState([]),l=Object(d.a)(s,2),u=l[0],f=l[1],h=t.setting.users,b=t.setting.channels.find((function(e){return e.id===c})),j=(null===b||void 0===b?void 0:b.name)||null,x=function e(t){var n=document.getElementById("".concat(t));n?setTimeout((function(){n.scrollIntoView({behavior:"smooth"})}),1e3):setTimeout((function(){e(t)}),750)},g=function(e){var t=e.date;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)("div",{className:i.dateDivider,children:Object(m.jsx)(z.a,{})}),Object(m.jsx)("div",{className:i.dateDividerLabelBox,children:Object(m.jsx)(O.a,{className:i.dateDividerLabel,children:t})})]},"log-date-title-".concat(c,"-").concat(t))};r.a.useEffect((function(){f(t.channels[j])}),[c]),r.a.useEffect((function(){var e=new URLSearchParams(o.search).get("client_msg_id");e&&x(e)}),[o.search]);var w=[];return j&&Object(m.jsxs)("div",{className:i.root,children:[Object(m.jsxs)(O.a,{className:i.logPannelTitle,children:["# ",j]}),Object(m.jsx)(v.a,{id:"contant",className:i.list,dense:!0,component:"nav",children:Object.keys(u).sort((function(e,t){return e>t?1:-1})).map((function(e){u[e].forEach((function(e){((null===e||void 0===e?void 0:e.replies)||[]).forEach((function(e){return w.push("".concat(e.user,":").concat(e.ts))}))}));var t=u[e].filter((function(e){return e.subtype||!w.includes("".concat(e.user,":").concat(e.ts))})).filter((function(e){return e.text})).sort((function(e,t){return e.ts-t.ts})),n=Boolean(t.length);return Object(m.jsxs)(r.a.Fragment,{children:[n&&Object(m.jsx)(g,{date:e}),t.map((function(e){var t=e.user,n=e.client_msg_id,a=h.find((function(e){return e.id===t}));return a&&Object(m.jsx)(y.a,{id:n,className:i.List,children:Object(m.jsx)(Q,{users:h,user:a,log:e,channelId:c})},n)}))]},"log-date-box-".concat(c,"-").concat(e))}))})]},"log-".concat(c))}var ne=n(93),ae=n.n(ne),re=Object(u.a)((function(e){return{root:function(e){return{height:"100vh",maxWidth:e.threadWidth,minWidth:e.threadWidth,overflowX:"hidden",overflowY:"auto",flex:1,scrollMarginTop:"56px",borderLeft:"solid 1px #ddd"}},logPannelTitle:{fontSize:18,padding:"8px 16px 7px 16px",borderBottom:"solid 1px #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:1,backgroundColor:"#fff",borderLeft:"solid 1px #ddd",marginLeft:-1,"& small":{opacity:.5}},logPannelTitleLabel:{display:"flex",gap:12,alignItems:"center"},list:{height:"calc(100vh - (52px + 16px))",overflowX:"hidden",overflowY:"auto"},List:{alignItems:"flex-start"},logBox:{display:"flex",flexDirection:"column"},logHead:{display:"flex",alignItems:"flex-end"},logUser:{fontWeight:600,fontSize:14,paddingRight:8},logDate:{fontSize:12,opacity:.65},logText:{fontSize:14,padding:"4px 0"},attachmentImage:{maxHeight:240,borderRadius:4},fileBox:{display:"flex",alignItems:"center",textDecoration:"none",color:"#34495e",border:"solid 1px #ddd",borderRadius:4,padding:8,paddingRight:12},attachments:{display:"flex",flexWrap:"wrap",gap:8},dateDivider:{display:"flex",alignItems:"center",marginBottom:-18,"& hr":{flex:1}},dateDividerLabelBox:{position:"sticky",top:58,display:"flex",justifyContent:"center",zIndex:1},dateDividerLabel:{border:"solid 1px rgba(0,0,0,0.12)",fontSize:13,fontWeight:500,padding:"6px 12px",borderRadius:18,backgroundColor:"#fff"},replieBox:{display:"flex",alignItems:"center",gap:8,textDecoration:"none",padding:"0 12px","& hr":{flex:1}},replieLabel:{opacity:.5,fontSize:13},closeButton:{minWidth:48}}}));function ce(e){var t=e.slackData,n=e.threadWidth,a=e.threadId,c=Object(p.i)(),o=c.workSpace,i=c.appType,s=c.channelId,l=void 0===s?null:s,d=c.logId,u=void 0===d?null:d,f=re({threadWidth:n}),b=Object(p.g)(),j=t.setting.users,x=t.setting.channels.find((function(e){return e.id===l})),g=(null===x||void 0===x?void 0:x.name)||null,w=t.channels[g],k="YYYY-MM-DD LT",I=[],S=null,N=[],C=Boolean(u.search(/\:/)>-1);Object.keys(w||{}).forEach((function(e){var t=w[e].find((function(e){return C?"".concat(e.user,":").concat(e.ts)===u:e.client_msg_id===u}))||null;t&&(N=(null===t||void 0===t?void 0:t.replies)||[],S=t),I=I.concat(w[e])}));var T=I.filter((function(e){var t=e.ts,n=e.user;return Boolean(N.find((function(e){return e.ts===t&&e.user===n})))})),B=S||{},L=B.client_msg_id,D=B.user,W="thread-".concat(L),R=j.find((function(e){return e.id===D})),_=function e(){var t=document.getElementById("".concat(u));t?document.querySelector("#".concat(a)).scrollTop=t.offsetTop:setTimeout((function(){e()}),750)};return r.a.useEffect((function(){u&&_()}),[u]),g&&Object(m.jsxs)("div",{id:a,className:f.root,children:[Object(m.jsxs)(O.a,{className:f.logPannelTitle,component:"div",children:[Object(m.jsxs)("div",{className:f.logPannelTitleLabel,children:["Thread",Object(m.jsxs)("small",{children:["# ",g]})]}),Object(m.jsx)(h.a,{className:f.closeButton,onClick:function(){b.push("/".concat(o,"/").concat(i,"/").concat(l))},children:Object(m.jsx)(ae.a,{})})]}),Object(m.jsxs)(v.a,{className:f.list,dense:!0,component:"nav",children:[Object(m.jsx)(y.a,{id:W,className:f.List,children:Object(m.jsx)(Q,{users:j,user:R,log:S,isThread:!0,dateFormat:k})},W),Object(m.jsxs)("div",{className:f.replieBox,children:[Object(m.jsxs)(O.a,{className:f.replieLabel,children:[T.length," replie",T.length>1?"s":null]}),Object(m.jsx)(z.a,{})]}),T.sort((function(e,t){return e.ts-t.ts})).map((function(e){var t=e.user,n=e.client_msg_id,a=j.find((function(e){return e.id===t}));return a&&Object(m.jsx)(y.a,{id:n,className:f.List,children:Object(m.jsx)(Q,{users:j,user:a,log:e,dateFormat:k})},n)}))]})]},"thread-".concat(u))}var oe=n(174),ie=Object(u.a)((function(e){return{root:{height:"100vh",overflowY:"auto",flex:1,backgroundColor:"#eee"},searchBox:{margin:"12px 16px",display:"flex",alignItems:"center"},input:{border:"none",outline:"none",appearance:"none",padding:"8px",backgroundColor:"transparent",fontSize:18,flex:1},searchIcon:{marginLeft:8},listBox:{padding:"12px 16px",display:"flex",flexDirection:"column",gap:12},List:{padding:"8px 12px",cursor:"pointer"},listInner:{display:"flex",alignItems:"flex-start"},channelName:{opacity:.7,fontSize:14}}}));function se(e){var t=e.slackData,n=e.searchValue,a=e.setSearchValue,c=Object(p.i)().workSpace,o=ie(),i=Object(p.g)(),s=t.setting.users,d=r.a.useRef(null),u=function(e,t,n){return function(){i.push("/".concat(c,"/log/").concat(e).concat(t?"/".concat(t):"","?client_msg_id=").concat(n))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===n)return[];var a=[],r=new RegExp("".concat(e.toLowerCase())),c={},o=[];return Object.keys(t.channels).forEach((function(e){var n=t.channels[e];Object.keys(n).forEach((function(n){var i=t.channels[e][n];i.filter((function(e){return e.replies})).forEach((function(e){return e.replies.map((function(t){var n="".concat(t.user,":").concat(t.ts),a=(null===e||void 0===e?void 0:e.client_msg_id)||"".concat(e.user,":").concat(e.ts);c[n]=a,o.push(n)}))})),i.forEach((function(n){var i=(n.text||"").toLowerCase(),s="".concat(n.user,":").concat(n.ts),d=o.includes(s);if(i.search(r)>-1){var u=t.setting.channels.find((function(t){return t.name===e})).id;a.push(Object(l.a)(Object(l.a)({},n),{},{channelName:e,channelId:u,threadId:d?c[s]:null}))}}))}))})),a}(n),h=Boolean(n&&0===f.length);return Object(m.jsxs)("div",{className:o.root,children:[Object(m.jsxs)(oe.a,{elevation:1,className:o.searchBox,component:"form",onSubmit:function(e){e.stopPropagation(),e.preventDefault();var t=d.current.value;return a(t),!1},children:[Object(m.jsx)(S.a,{className:o.searchIcon}),Object(m.jsx)("input",{ref:d,className:o.input,type:"text",placeholder:"Search Logs",defaultValue:n})]}),Object(m.jsxs)("div",{className:o.listBox,children:[h&&Object(m.jsx)("div",{style:{padding:8},children:Object(m.jsxs)(O.a,{children:["No log matching the ",Object(m.jsx)("strong",{children:n})," exists...\ud83e\udd72"]})}),f.map((function(e){var t=e.user,n=e.client_msg_id,a=e.channelName,r=e.channelId,c=e.threadId,i=s.find((function(e){return e.id===t}));return Object(m.jsxs)(oe.a,{onClick:u(r,c,n),id:n,className:o.List,children:[Object(m.jsxs)(O.a,{className:o.channelName,children:["# ",a]}),Object(m.jsx)("div",{className:o.listInner,children:Object(m.jsx)(Q,{users:s,user:i,log:e,channelId:r})})]},n)}))]})]})}var le=Object(u.a)((function(e){return{root:{display:"flex"},menuResizeBar:{position:"fixed",top:0,bottom:0,width:6,backgroundColor:"#3498db",opacity:0,zIndex:2,transition:"opacity .2s linear",cursor:"col-resize","&:hover":{opacity:1}}}}));function de(e){var t=e.slackData,n=e.currentWorkSpaces,a=e.searchValue,c=e.setSearchValue,o=e.moveImportPage,i=e.changeWorkSpace,s=r.a.useState(Number(window.localStorage.getItem("menuWidth")||240)),l=Object(d.a)(s,2),u=l[0],f=l[1],h=r.a.useState(Number(window.localStorage.getItem("threadWidth")||Math.ceil(window.innerWidth/3))),b=Object(d.a)(h,2),j=b[0],x=b[1],g=r.a.useState(!1),O=Object(d.a)(g,2),v=O[0],y=O[1],w=r.a.useState(null),k=Object(d.a)(w,2),I=k[0],S=k[1],N="menu-box",C="menu-resize-bar",T="thread-box",B="thread-resize-bar",L=Object(p.i)(),D=L.appType,z=(L.channelId,L.logId),W=void 0===z?null:z,R=le({menuWidth:u,selectable:v.current}),_=function(e,t){return function(n){if(e&&S(e),y(t),!t){var a=n.clientX;if("menu"===I&&(f(a),window.localStorage.setItem("menuWidth",a)),"thread"===I){var r=window.innerWidth-a;x(r),window.localStorage.setItem("threadWidth",r)}S(null)}}};return Object(m.jsxs)("div",{className:R.root,onMouseMove:function(e){if(v){var t=document.querySelector("#".concat("menu"===I?N:T)),n=document.querySelector("#".concat("menu"===I?C:B)),a="menu"===I?"left":"right";if(t&&n){var r="menu"===I?"".concat(e.clientX,"px"):"calc(100vw - ".concat(e.clientX,"px)");t.style.minWidth=r,t.style.maxWidth=r,n.style[a]="calc(".concat(r," - 3px)")}}},onMouseUp:_(null,!1),style:{userSelect:v?"none":null},children:[Object(m.jsx)(E,{currentWorkSpaces:n,slackData:t,searchValue:a,moveImportPage:o,changeWorkSpace:i,menuWidth:u,menuId:N}),W&&Object(m.jsx)("div",{id:B,className:R.menuResizeBar,onMouseDown:_("thread",!0),style:{right:j-3}}),Object(m.jsx)("div",{id:C,className:R.menuResizeBar,onMouseDown:_("menu",!0),style:{left:u-3}}),"log"===D?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{slackData:t}),W&&Object(m.jsx)(ce,{threadId:T,threadWidth:j,slackData:t})]}):Object(m.jsx)(se,{slackData:t,searchValue:a,setSearchValue:c})]})}var ue=Object(u.a)((function(e){return{}}));function pe(){var e=ue(),t=Object(p.g)(),n=r.a.useState(!1),a=Object(d.a)(n,2),c=a[0],o=a[1],u=r.a.useState({}),h=Object(d.a)(u,2),b=h[0],j=h[1],x=r.a.useState(null),O=Object(d.a)(x,2),v=O[0],y=O[1],w=r.a.useState(""),k=Object(d.a)(w,2),I=k[0],S=k[1],N=r.a.useState(!0),C=Object(d.a)(N,2),T=C[0],B=C[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(l.a)(Object(l.a)({},b),e),a=n[t];y(Object(l.a)({},a)),j(n)},D=function(e){L(b,e)},z=function(){y(null)};return r.a.useEffect((function(){!function(e){var n;if(e){var a=e.workSpace,r=(null===(n=e.setting.channels.find((function(e){return"general"===e.name})))||void 0===n?void 0:n.id)||null;t.push("/".concat(encodeURIComponent(a),"/log/").concat(r))}}(v)}),[v]),r.a.useEffect((function(){Object(s.a)(Object(i.a)().mark((function e(){var t,n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)();case 2:return t=e.sent,(n=Object.keys(t)).length&&L(t,n[0]),e.next=7,fetch("https://line-2f7e0.web.app/img/logo.png").then((function(e){return!1})).catch((function(e){return!0}));case 7:a=e.sent,B(a),o(!0);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsxs)("div",{className:e.root,children:[v?Object(m.jsx)(p.d,{children:Object(m.jsx)(p.b,{path:["/:workSpace/:appType/:channelId/:logId","/:workSpace/:appType/:channelId","/:workSpace/:appType"],render:function(e){return Object(m.jsx)(de,{isCors:T,currentWorkSpaces:b,slackData:v,searchValue:I,setSearchValue:S,moveImportPage:z,changeWorkSpace:D})}})}):Object(m.jsx)(p.a,{to:"/import"}),Object(m.jsx)(p.d,{children:Object(m.jsx)(p.b,{path:"/import",render:function(e){return Object(m.jsx)(g,{initComplete:c,isCors:T,changeSlackData:L})}})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(m.jsx)(P.a,{children:Object(m.jsx)(pe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},22:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return w}));var a=n(9),r=n(18),c=n(30),o=n(5),i=n(8),s=n(83),l=n.n(s),d=n(84),u=(n(75),n(85)),p=n(86),f=n.n(p),h=new u.a("slackViewerDB");h.version(1).stores({store:"&id"});var b=function(t,n){var a,r=(null===(a=t.target.files)||void 0===a?void 0:a[0])||null;if(r){var c=r.name.replace(/\sSlack\sexport.*zip$/,""),s=new FileReader;s.onload=function(t){var a=t.target.result,r=new Uint8Array(a),s=new d.Zlib.Unzip(r),u=s.getFilenames(),p={setting:{},channels:{},workSpace:c};u.forEach((function(t){var n=l.a.convert(t,"UNICODE","AUTO");if("/"!==t.slice(-1)){var a=s.decompress(t),r=e.from(a).toString("utf8"),c=JSON.parse(r),o=n.split("/");if(o.length>1){var d=Object(i.a)(o,2),u=d[0],f=d[1].replace(".json","");void 0===p.channels[u]&&(p.channels[u]={}),p.channels[u][f]=c}else p.setting[n.replace(".json","")]=c}})),console.log({slackData:p}),n(Object(o.a)({},c,p),c)},s.readAsArrayBuffer(r)}else alert("Please select a zip file")},j=function(e){return new Promise((function(t,n){var a=new FileReader;a.onerror=n,a.onload=function(){t(a.result)},a.readAsDataURL(e)}))},m=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,a,c,o,i,s,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.url,c=!1,e.next=4,fetch(a).then((function(e){if(200===e.status)return e.blob().then((function(t){return{contentType:e.headers.get("Content-Type"),blob:t}}));throw new Error("File does not exist")})).catch((function(e){return console.error(e),null}));case 4:if(!(o=e.sent)){e.next=12;break}return i=o.blob,s=o.contentType,e.next=9,j(i);case 9:l=e.sent,h.store.put({id:n,contentType:s,data:l}),c=!0;case 12:return e.abrupt("return",{id:n,successfulToSave:c});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return Object.keys(e).flatMap((function(t){return Object.keys(e[t]).flatMap((function(n){return e[t][n].filter((function(e){return e.files})).flatMap((function(e){return e.files.map((function(e){return{id:e.id,url:e.url_private}}))}))}))}))},g=function(e){return e.flatMap((function(e){var t=e.id,n=e.profile,a=n.image_24,r=n.image_48;return[{id:"".concat(t,"-image_24"),url:a},{id:"".concat(t,"-image_48"),url:r}]}))},O=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var o,i,s,l,d,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return(o=e.sent)[t.workSpace]=Object(a.a)({},t),i={id:"workSpaces",data:o},h.store.put(i),s=x(t.channels),l=g(t.setting.users),d=l.concat(s),e.next=11,Promise.all(d.map(function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:u=e.sent,n(u);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("workSpaces");case 2:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.data)||{});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.store.get(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return e.replace(/:\w+:/gi,(function(e){return f.a.getUnicode(e)}))}}).call(this,n(112).Buffer)}},[[138,1,2]]]);